<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.7.1 at 2017-02-26 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Jakarta Cactus &#x2013; CactifyWar Maven2 MOJO</title>
    <style type="text/css" media="all">
      @import url("../../css/maven-base.css");
      @import url("../../css/maven-theme.css");
      @import url("../../css/site.css");
    </style>
    <link rel="stylesheet" href="../../css/print.css" type="text/css" media="print" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                                      <a href="../../../" id="bannerLeft">
                                                <img src="../../images/logocactus.gif" alt="Cactus" />
                </a>
                              <a href="http://jakarta.apache.org/" id="bannerRight">
                                                <img src="../../images/jakarta-logo.gif" alt="Apache" />
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
                <div class="xleft">
        <span id="publishDate">Last Published: 2017-02-26</span>
                  &nbsp;| <span id="projectVersion">Version: 1.8.2-SNAPSHOT</span>
                          |                           <a href="http://www.apache.org/" class="externalLink" title="Apache">Apache</a>
        &gt;
                          <a href="http://www.jakarta.apache.org/" class="externalLink" title="Jakarta">Jakarta</a>
        &gt;
                          <a href="../../../" title="Cactus">Cactus</a>
        &gt;
    CactifyWar Maven2 MOJO
              </div>
            <div class="xright">      
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
                                <h5>About</h5>
                  <ul>
                  <li class="none">
                          <a href="../../index.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="../../goals.html" title="Goals">Goals</a>
            </li>
                  <li class="none">
                          <a href="../../features.html" title="Features">Features</a>
            </li>
                  <li class="none">
                          <a href="../../news.html" title="News">News</a>
            </li>
                  <li class="none">
                          <a href="../../downloads.html" title="Downloads">Downloads</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/sheeper/jakarta-cactus/issues" class="externalLink" target="_blank" title="Bug Database">Bug Database</a>
            </li>
                  <li class="none">
                          <a href="../../mail-lists.html" title="Mailing Lists">Mailing Lists</a>
            </li>
                  <li class="none">
                          <a href="../../faq.html" title="FAQ">FAQ</a>
            </li>
                  <li class="none">
                          <a href="http://wiki.apache.org/jakarta-cactus/FrontPage" class="externalLink" target="_blank" title="Wiki">Wiki</a>
            </li>
                  <li class="none">
                          <a href="../../license.html" title="License">License</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="../../project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                            <li class="collapsed">
                          <a href="../../project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                       <h5>Documentation</h5>
                  <ul>
                  <li class="none">
                          <a href="../../getting_started.html" title="Getting started">Getting started</a>
            </li>
                  <li class="none">
                          <a href="../../how_it_works.html" title="How it works">How it works</a>
            </li>
                                                                                                                                                                                                                                      <li class="collapsed">
                          <a href="../../writing/howto_ejb.html" title="Writing tests">Writing tests</a>
                  </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <li class="expanded">
                          <a href="../../integration/index.html" title="Running tests">Running tests</a>
                    <ul>
                      <li class="none">
                          <a href="../../integration/manual/index.html" title="Manual">Manual</a>
            </li>
                      <li class="none">
                          <a href="../../integration/eclipse/index.html" title="Eclipse">Eclipse</a>
            </li>
                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="../../integration/ant/index.html" title="Ant">Ant</a>
                  </li>
                      <li class="none">
                          <a href="../../integration/integration_browser.html" title="Browser">Browser</a>
            </li>
                      <li class="none">
                          <a href="../../integration/howto_tomcat.html" title="Tomcat">Tomcat</a>
            </li>
                                                                                                                                                <li class="collapsed">
                          <a href="../../integration/maven/index.html" title="Maven">Maven</a>
                  </li>
                                                                                                    <li class="expanded">
                          <a href="../../integration/maven2/index.html" title="Maven2">Maven2</a>
                    <ul>
                      <li class="none">
            <strong>CactifyWar MOJO</strong>
          </li>
                      <li class="none">
                          <a href="../../integration/maven2/cactifyear.html" title="CactifyEar MOJO">CactifyEar MOJO</a>
            </li>
              </ul>
        </li>
                      <li class="none">
                          <a href="../../integration/integration_jetty.html" title="Jetty">Jetty</a>
            </li>
                      <li class="none">
                          <a href="../../integration/howto_ide.html" title="Various IDEs">Various IDEs</a>
            </li>
                      <li class="none">
                          <a href="../../integration/howto_junitee.html" title="JUnitEE">JUnitEE</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                                    <li class="collapsed">
                          <a href="../../participating/index.html" title="Participating">Participating</a>
                  </li>
          </ul>
                       <h5>Miscellaneous</h5>
                  <ul>
                  <li class="none">
                          <a href="../../cactusname.html" title="Why the name">Why the name</a>
            </li>
                  <li class="none">
                          <a href="../../mock_vs_cactus.html" title="Mock vs Container">Mock vs Container</a>
            </li>
                  <li class="none">
                          <a href="http://wiki.apache.org/jakarta-cactus/TestedOn" class="externalLink" title="Tested On...">Tested On...</a>
            </li>
                                                                                                                                            <li class="collapsed">
                          <a href="../../resources/index.html" title="Resources">Resources</a>
                  </li>
          </ul>
                       <h5>Translations</h5>
                  <ul>
                  <li class="none">
                          <a href="http://www.ressources-java.net/cactus" class="externalLink" target="_blank" title="French">French</a>
            </li>
                  <li class="none">
                          <a href="http://jakarta.apache-korea.org/cactus/index.html" class="externalLink" target="_blank" title="Korean">Korean</a>
            </li>
                  <li class="none">
                          <a href="http://www.jajakarta.org/cactus/" class="externalLink" target="_blank" title="Japanese">Japanese</a>
            </li>
          </ul>
                       <h5>See also</h5>
                  <ul>
                  <li class="none">
                          <a href="http://www.apachebookstore.com/" class="externalLink" target="_blank" title="Apache Bookstore">Apache Bookstore</a>
            </li>
                  <li class="none">
                          <a href="http://www.planetapache.org/" class="externalLink" target="_blank" title="Planet Apache">Planet Apache</a>
            </li>
                  <li class="none">
                          <a href="http://apache.org/foundation/thanks.html" class="externalLink" target="_blank" title="Apache Sponsors">Apache Sponsors</a>
            </li>
          </ul>
                                                                                                                                     <a href="../../../" title="Jakarta Cactus" class="poweredBy">
        <img class="poweredBy"  alt="Jakarta Cactus" src="../../images/cactusbanner.gif"     />
      </a>
                     
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        

    

        <div class="section">
<h2><a name="CactifyWar_MOJO"></a>CactifyWar MOJO</h2>

            
<p>
                The mojo <b>cactifywar</b> allows the enhancement of an existing
                web-application archive (WAR) with the elements needed to run Cactus
                in-container tests. This includes adding the definitions of the test
                redirectors to the deployment descriptor, as well as adding the libraries
                that Cactus requires on the server side (see the
                <a href="../manual/howto_classpath.html">Classpath Guide</a>
                for details).
            </p>

             
<blockquote class="info infomark">
                If you want to use the
                <a href="../../writing/howto_httpunit.html">HttpUnit integration</a>
                in your
                tests, you'll need to explicitly add the <tt>httpunit.jar</tt> to
                the cactified WAR. You can easily do this by specifying it as a
                <tt>&lt;libDependencies&gt;</tt>
                element.
            </blockquote>

            
<div class="section">
<h3><a name="Parameters"></a>Parameters</h3>

                
<p>
                    Here is a list of all the parameters that can be specified to the
                    <b>cactifywar</b>
                    plugin.
                </p>

                
<table border="0" class="bodyTable">
                    
<tr class="a">
                        
<th>Name</th>
                        
<th>Description</th>
                        
<th>Required</th>
                    </tr>
                    
<tr class="b">
                        
<td>
                            <b>destFile</b>
                        </td>
                        
<td>
                            The location and name of the cactified web-application archive to create.
                        </td>
                        
<td>Yes</td>
                    </tr>
                    
<tr class="a">
                        
<td>
                            <b>srcFile</b>
                        </td>
                        
<td>
                            The original web-application archive that is going to be
                            cactified.
                        </td>
                        
<td>Yes</td>
                    </tr>
                    
<tr class="b">
                        
<td>
                            <b>mergeWebXml</b>
                        </td>
                        
<td>
                            Allows the specification of a web deployment descriptor whose
                            content will get merged into the resulting descriptor. This is
                            only required for purposes like adding special security
                            constraints for testing, as the Cactus test redirectors will be
                            added to the cactified deployment descriptor anyway. The merging
                            of the descriptors is based on the same principles as used by the
                            <a href="task_webxmlmerge.html">webxmlmerge</a>
                            task.
                        </td>
                        
<td>No</td>
                    </tr>
                    
<tr class="a">
                        
<td>
                            <b>version</b>
                        </td>
                        
<td>
                            The version of the web application archive to create if no source
                            archive has been specified with the <i>srcfile</i> attribute.
                            Can be either <tt>2.2</tt> or <tt>2.3</tt>.
                        </td>
                        
<td>No, unless the <i>srcfile</i> attribute is omitted
                        </td>
                    </tr>
                </table>

            </div>

            
<div class="section">
<h3><a name="Nested_Elements"></a>Nested Elements</h3>

                
<p>
                    Here is a list of all the nested elements that you can use
                    with the <b>cactifywar</b> plugin.
                </p>

                
<table border="0" class="bodyTable">
                    
<tr class="a">
                        
<th>Name</th>
                        
<th>Description</th>
                        
<th>Required</th>
                    </tr>
                    
<tr class="b">
                        
<td>
                            <b>libDependencies</b>
                        </td>
                        
<td>
                            The artifacts that you want to include in the <b>WEB-INF/lib</b> folder
                            of the archive that you create. The dependencies that you specify here with
                            <b>&lt;groupId&gt;</b>
                            and <b>&lt;artifactId&gt;</b> must be specified as a project dependencies.
                        </td>
                        
<td>No</td>
                    </tr>
                    
<tr class="a">
                        
<td>
                            <b>redirectors</b>
                        </td>
                        
<td>
                            This allows you to specify custom redirector definitions. Inside the this element you can
                            specify any of
                            the following: <b>&lt;servletRedirector&gt;</b>, <b>
                            &lt;filterRedirector&gt;</b>,
                            <b>&lt;jspRedirector&gt;</b>. Each one of these can get any of the following
                            attributes:
                            <b>name</b>, <b>mapping</b>, <b>roles</b>.
                        </td>
                        
<td>No</td>
                    </tr>
                </table>
            </div>
            
<div class="section">
<h3><a name="Examples"></a>Examples</h3>

                
<p>
                    The following example demonstrates the simplest-possible use of the
                    plugin. You have to add the following plugin definition inside your
                    <b>&lt;build&gt;</b>
                    definition of your pom.xml. It will
                    add the redirectors with the default mappings to the
                    cactified WARs, as well as the Cactus libraries and the JSP page
                    needed for the JSP redirector.
                </p>
                
<div class="source">
<pre>
&lt;plugin&gt;
   &lt;groupId&gt;org.apache.cactus&lt;/groupId&gt;
   &lt;artifactId&gt;cactus.integration.maven2&lt;/artifactId&gt;
   &lt;version&gt;1.8.1-SNAPSHOT&lt;/version&gt;
   &lt;configuration&gt;
      &lt;srcFile&gt;target/cactus-maven2-test-1.0-SNAPSHOT.war&lt;/srcFile&gt;
      &lt;destFile&gt;cactifiedByMaven2.war&lt;/destFile&gt;
   &lt;/configuration&gt;
&lt;/plugin&gt;
</pre></div>
                
<p>
                    The next example demonstrates how to modify the mappings of the
                    redirectors.
                </p>

                
<div class="source">
<pre>
&lt;plugin&gt;
   &lt;groupId&gt;org.apache.cactus&lt;/groupId&gt;
   &lt;artifactId&gt;cactus.integration.maven2&lt;/artifactId&gt;
   &lt;version&gt;1.8.1-SNAPSHOT&lt;/version&gt;
   &lt;configuration&gt;
      &lt;srcFile&gt;target/cactus-maven2-test-1.0-SNAPSHOT.war&lt;/srcFile&gt;
      &lt;destFile&gt;cactifiedByMaven2.war&lt;/destFile&gt;
      &lt;redirectors&gt;
         &lt;servletRedirector&gt;
            &lt;name&gt;ServletRedirectorSecure&lt;/name&gt;
            &lt;mapping&gt;/ServletRedirectorSecure&lt;/mapping&gt;
            &lt;roles&gt;test&lt;/roles&gt;
        &lt;/servletRedirector&gt;
        &lt;filterRedirector&gt;
           &lt;name&gt;FilterRedirector&lt;/name&gt;
           &lt;mapping&gt;/test/filterRedirector&lt;/mapping&gt;
        &lt;/filterRedirector&gt;
     &lt;/redirectors&gt;  
   &lt;/configuration&gt;
&lt;/plugin&gt;        
</pre></div>

                
<p>
                    In the following example, we add the
                    <a href="../../writing/howto_httpunit.html">HttpUnit</a>
                    library to the
                    cactified WAR. (Note that you have to add it explicitly in the project
                    dependecies also)
                </p>

                
<div class="source">
<pre>
&lt;plugin&gt;
   &lt;groupId&gt;org.apache.cactus&lt;/groupId&gt;
   &lt;artifactId&gt;cactus.integration.maven2&lt;/artifactId&gt;
   &lt;version&gt;1.8.1-SNAPSHOT&lt;/version&gt;
   &lt;configuration&gt;
      &lt;srcFile&gt;target/cactus-maven2-test-1.0-SNAPSHOT.war&lt;/srcFile&gt;
      &lt;destFile&gt;cactifiedByMaven2.war&lt;/destFile&gt;
      &lt;libDependencies&gt;
         &lt;dependency&gt;
            &lt;groupId&gt;httpunit&lt;/groupId&gt;
            &lt;artifactId&gt;httpunit&lt;/artifactId&gt;
         &lt;/dependency&gt;
     &lt;/libDependencies&gt; 
   &lt;/configuration&gt;
&lt;/plugin&gt;           
</pre></div>

                
<p>
                    In the next example, we add a security-constrained instance of the
                    servlet redirector to be able to run tests using authentication
                    (see
                    <a href="../../writing/howto_security.html">Using Authentication</a>
                    for details). Note that you need to provide an empty servlet
                    redirector element, so that the default redirector is included
                    along side the secured redirector (it would just be overridden
                    otherwise).
                </p>

                
<div class="source">
<pre>
&lt;plugin&gt;
   &lt;groupId&gt;org.apache.cactus&lt;/groupId&gt;
   &lt;artifactId&gt;cactus.integration.maven2&lt;/artifactId&gt;
   &lt;version&gt;1.8.1-SNAPSHOT&lt;/version&gt;
   &lt;configuration&gt;
      &lt;srcFile&gt;target/cactus-maven2-test-1.0-SNAPSHOT.war&lt;/srcFile&gt;
      &lt;destFile&gt;cactifiedByMaven2.war&lt;/destFile&gt;
      &lt;redirectors&gt;
         &lt;servletRedirector&gt;
            &lt;name&gt;ServletRedirectorSecure&lt;/name&gt;
            &lt;mapping&gt;/ServletRedirectorSecure&lt;/mapping&gt;
            &lt;roles&gt;test&lt;/roles&gt;
        &lt;/servletRedirector&gt;
        &lt;servletRedirector/&gt;
     &lt;/redirectors&gt;  
   &lt;/configuration&gt;
&lt;/plugin&gt;     
</pre></div>
            </div>
        </div>
    

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2001&#x2013;2017
                        <a href="http://www.apache.org/">The Apache Software Foundation</a>.
            All rights reserved.    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
