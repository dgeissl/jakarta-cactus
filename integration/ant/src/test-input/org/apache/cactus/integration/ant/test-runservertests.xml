<?xml version="1.0"?>

<project name="test-runservertests" basedir="." default="help">

  <property name="work.dir" location="${basedir}/work"/>

  <target name="setUp">
    <mkdir dir="${work.dir}"/>
  </target>

  <target name="tearDown">
    <delete dir="${work.dir}"/>
  </target>

  <!-- Test Targets -->

  <target name="testStartNotSet">
    <runservertests stoptarget="stopDummy" testtarget="testDummy"/>
  </target>

  <target name="testStartTimeout">
    <runservertests starttarget="startDummy" stoptarget="stopDummy"
        testtarget="testDummy" timeout="0"
        testurl="http://localhost:9093/dummy"/>
  </target>

  <target name="testStopNotSet">
    <runservertests starttarget="startDummy" testtarget="testDummy"/>
  </target>

  <target name="testTestNotSet">
    <runservertests starttarget="stopDummy" stoptarget="stopDummy"/>
  </target>

  <target name="testTestUrlNotSet">
    <runservertests starttarget="startDummy" stoptarget="stopDummy"
        testtarget="testDummy"/>
  </target>

  <target name="testNonHttpTestUrl">
    <runservertests starttarget="startDummy" stoptarget="stopDummy"
        testtarget="testDummy"
        testurl="ftp://ftp.example.com"/>
  </target>

  <!-- Utility Targets -->

  <target name="startDummy">
    <touch file="${work.dir}/startDummy.tmp"/>
  </target>

  <target name="stopDummy">
    <touch file="${work.dir}/stopDummy.tmp"/>
  </target>

  <target name="testDummy">
    <touch file="${work.dir}/testDummy.tmp"/>
  </target>

</project>
