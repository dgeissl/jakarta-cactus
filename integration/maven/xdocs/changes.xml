<?xml version="1.0"?>
<document>
  <properties>
    <title>Plugin changes</title>
    <author email="vmassol@apache.org">Vincent Massol</author>
  </properties>

  <body>

    <release version="1.8dev" date="in CVS">
      <action dev="felipeal" type="fix" issue="CACTUS-202">
        Property <code>cactus.ear</code> is now defined at 
        the <code>plugin.properties</code> file.
      </action>
      <action dev="felipeal" type="fix" issue="CACTUS-197">
        Added support for <code>ear.bundle.name</code> and
        <code>ear.bundle.dir</code> properties.
      </action>
    </release>

    <release version="1.7" date="2005-01-28">
      <action dev="felipeal" type="fix" due-to="Brett Porter" issue="CACTUS-161">
        Proper use of <code>maven.compile.target</code> and
        <code>maven.compile.source</code> properties.
      </action>
      <action dev="felipeal" type="add" issue="CACTUS-158">
        Added <code>jvmArgs</code> property to the containers tasks.
      </action>
      <action dev="vmassol" type="update" due-to="Henner Kollmann" issue="CACTUS-156">
        Added optional <code>source</code> attribute from the java plugin for 
        compiling cactus tests.
      </action>
      <action dev="felipeal" type="add" due-to="Nicolas Chalumeau" due-to-email="Nicolas.CHALUMEAU@arsoe-trelaze.com" issue="CACTUS-132">
        Allows Cactus to include some resources in the webapp classpath
        (<code>WEB-INF/classes</code>), through the use of variable 
        <code>cactus.resources.dirs</code>.
      </action>
      <action dev="felipeal" type="update" issue="CACTUS-129" due-to="Mark Lambert">
        Updated AspectJ to 1.2.1, so Cactus compiles and run under JDK 1.5.
      </action>
      <action dev="felipeal" type="add" issue="CACTUS-128" due-to="Maxwell Grender-Jones">
        Extended <code>cactus.sysproperties</code> property to the
        <code>cactus:match</code> and <code>cactus:single</code> goals.
      </action>
      <action dev="felipeal" type="new" issue="CACTUS-146">
        Goal <code>cactus:test</code> is not executed if property
        <code>maven.test.skip</code> is set.
      </action>
      <action dev="felipeal" type="update" issue="CACTUS-139">
        Cactus now uses HttpUnit 1.6.
      </action>
      <action dev="felipeal" type="update" issue="CACTUS-137">
        Plugin is now buildable withouth any manual intervention.
      </action>
      <action dev="vmassol" type="update" issue="CACTUS-135" due-to="Felipe Leme">
        The Cactus HTML JUnit report now displays the stack trace in case of 
        failure.
      </action>
      <action dev="vmassol" type="fix" issue="CACTUS-64">
        The plugin now correctly uses the <code>maven.war.build.dir</code>,
        <code>maven.war.final.name</code>, <code>maven.ejb.build.dir</code>
        and <code>maven.ejb.final.name</code> properties from the WAR and EJB
        plugins instead of hard-coding the values. Note that as a result, the 
        Cactus plugins now requires version 1.7+ of the WAR plugin and version
        1.6+ of the EJB plugin.
      </action>
      <action dev="vmassol" type="fix">
        Cactus now guesses automatically what Java source files are Cactus tests
        when packaging tests in an EAR (it was already supported when running
        tests packaged in a WAR).
      </action>
      <action dev="vmassol" type="add" issue="CACTUS-119">
        Added new <code>cactus.jboss3x.config.dir</code> property which allows
        users to specify the location of a custom JBoss server configuration
        to use. This configuration, if specified, will be copied by the
        &lt;cactus&gt; task to <code>cactus.jboss3x.tmp.dir</code>.
      </action>        
      <action dev="vmassol" type="add" issue="CACTUS-119">
        Added new <code>cactus.jboss3x.tmp.dir</code> property which
        points to where the JBoss server configuration for Cactus will be
        created. It defaults to 
        <code>${cactus.home.jboss3x}/server/cactus</code>.
      </action>
      <action dev="vmassol" type="add">
        Added new <code>cactus.sysproperties</code> property to the 
        Maven plugin for Cactus to allow passing system properties to
        the client and server side Cactus JVMs.
      </action>
    </release>

    <release version="1.6.1" date="2004-05-14"/>
    
    <release version="1.6" date="2004-05-08">
      <action dev="vmassol" type="add" issue="CACTUS-102" due-to="Nicolas De Loof">
        When calling <code>cactus:test</code>, only run the tests if there are
        Cactus tests present in the filesystem (i.e. if the Cactus source
        directory exists).
      </action>
      <action dev="vmassol" type="fix">
        Added dependency on <code>commons-jelly-tags-xml</code>. It seems
        this is required for some configurations of Maven.
      </action>
      <action dev="vmassol" type="update" due-to="Peter Bright" due-to-email="Peter.Bright@orbian.com">
        Removed explicit dependencies on EAR and WAR plugins so that users are
        free to install the versions they want to work with. As it was, we were
        forcing them to use a specific version, which is bad.
      </action>
      <action dev="vmassol" type="add">
        The <code>cactus:test</code> can now also be used to run tests packaged
        in an EAR. However the <code>cactus.is.ear</code> property needs
        to be set to <code>true</code> (it is <code>false</code> by default
        thus packaging tests in a WAR).
      </action>
      <action dev="vmassol" type="fix" issue="CACTUS-98">
        Aligning the EAR-ing behavior in the Cactus plugin for 
        Maven with the behavior from the EAR Maven plugin. More specifically,
        supports the new <code>&lt;ear.module&gt;</code> property tagging +
        support for sar modules + fixes a bug in the generation of the EAR 
        descriptor.
      </action>
      <action dev="vmassol" type="fix" due-to="Nicolas Chalumeau" due-to-email="Nicolas.CHALUMEAU@arsoe-trelaze.com">
        The <code>cactus:test-ear</code> goal was not using properly the
        <code>cactus.test.includes</code>/<code>cactus.test.excludes</code> thus
        leading to tests not being included/excluded.
      </action>
      <action dev="vmassol" type="update">
        Updated the version of Commons HttpClient in the Cactus distribution 
        to 2.0 final.
      </action>
      <action dev="vmassol" type="fix">
        Aligned the EAR-ing behavior in the Cactus plugin (when using the
        <code>cactus:test-ear</code> goal) with the behavior from the EAR Maven
        plugin. More specifically the Cactus plugin now honors both the
        <code>&lt;ear.bundle&gt;</code> property tagging, the
        <code>maven.ear.src</code> property and the 
        <code>maven.ear.manifest</code> property.
      </action>
      <action dev="vmassol" type="fix" issue="CACTUS-91" due-to="Archimedes Trajano" due-to-email="trajano@yahoo.com">
        Added support for running tests packaged as an EAR when the Cactus 
        plugin is triggered by defining the Cactus report in 
        <code>project.xml</code>.
      </action>
      <action dev="vmassol" type="fix">
        When running Cactus tests on an EJB project, through 
        <code>cactus:test-ear</code>, do not include the EJB sources in 
        the cactified WAR inside the EAR we deploy.
      </action>
      <action dev="vmassol" type="add">
        Added new <code>cactus.jboss3x.jndiport</code> property to specify
        which JNDI port to use when shutting down JBoss. Defaults to 1099
        (the JBoss default).
      </action>
      <action dev="vmassol" type="add">
        Added support for Resin 3.x (above version 3.0.5).
      </action>
      <action dev="vmassol" type="add" issue="CACTUS-86" due-to="Stephane Nicoll" due-to-email="snicoll@kiala.com">
        Added support for custom ports when using JBoss. Please note that this
        will only work with custom JBoss configs. The default config used by
        Cactus uses port 8080 (that's the default JBoss config).
      </action>
      <action dev="vmassol" type="add">
        Added 2 new properties to support debugging Cactus tests:
        <code>cactus.logging.config.client</code> and
        <code>cactus.logging.config.server</code>. They point to logging
        config properties file.
      </action>
      <action dev="vmassol" type="add">
        Added new optional <code>cactus.src.war</code> and
        <code>cactus.src.ejb</code> properties to specify where to find the
        artifacts to test using Cactus.
      </action>
      <action dev="vmassol" type="add" issue="CACTUS-72" due-to="Sean Timm" due-to-email="stimm@proclarity.com">
        Added 2 properties (<code>cactus.build.goal.war</code> and
        <code>cactus.build.goal.ejb</code>) for defining which goal is called 
        by Cactus to generate the war and ejb artifacts. They default to
        <code>war:war</code> and <code>ejb:ejb</code> respectively.
      </action>
      <action dev="vmassol" type="add">
        Added new optional <code>cactus.war</code> property. It specified the
        location where to generate the cactified WAR. Note that this is 
        also the name of the test context that will be used (except if 
        the context is specified by other means such as in 
        <code>application.xml</code> if the WAR is packaged in an EAR, 
        etc). It defaults to
        <code>${maven.build.dir}/${pom.artifactId}-cactus.war</code>.
      </action>
      <action dev="vmassol" type="add" due-to="Tony Czupryna" due-to-email="tczupryna@orbitz.com">
        Added support for the new <code>configxml</code> attribute used in the
        <code>&lt;weblogic7x&gt;</code> element of the 
        <code>&lt;cactus&gt;</code> task.
      </action>
      <action dev="vmassol" type="add" issue="CACTUS-72" due-to="Michael Gaffney" due-to-email="michael.gaffney@panacya.com">
        Added support for EJB testing with Cactus. Calling 
        <code>cactus:test-ear</code> packages the whole thing in an EAR and
        executes the Cactus tests.
      </action>
      <action dev="vmassol" type="add">
        The <code>cactus:test</code> goal now automatically discovers JUnit 
        Test Cases from non JUnit java classes and by default excludes all 
        classes that are not tests.
      </action>
      <action dev="vmassol" type="update">
        Renamed properties <code>cactus.src.includes</code> and
        <code>cactus.src.excludes</code> in <code>cactus.test.includes</code>
        and <code>cactus.test.excludes</code>. The previous names were
        misleading and some Cactus useres thought it referred to 
        inclusion/exclusion of classes during the compilation. Please also note
        that files to include/exclude are now <code>.class</code> files and no
        longer <code>.java</code> files.
      </action>
      <action dev="vmassol" type="add">
        When running reports, make sure Cactus tests do not fail the build.
      </action>
      <action dev="vmassol" type="fix">
        Fixed bug
        <a href="http://jira.codehaus.org/secure/ViewIssue.jspa?key=MAVEN-1000">MAVEN-1000</a>.
        Cactus tests are now automatically started by default when the site is 
        generated. This feature can be turned off.
      </action>
      <action dev="vmassol" type="fix" issue="CACTUS-64">
        The plugin now correctly uses the <code>${maven.war.final.name}</code>
        property instead of hard-coding the war name to 
        <code>${pom.artifactId}.war</code>.
      </action>
      <action dev="vmassol" type="add">
        Moved the Cactus plugin from the Maven CVS to the Cactus CVS.
      </action>
    </release>

  </body>
</document>

