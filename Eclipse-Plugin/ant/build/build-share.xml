    <!--
       ========================================================================
         Initialize the build. Must be called by all targets
       ========================================================================
    -->
    <target name="init">

        <tstamp/>

        <!-- Filters -->
        <filter token="version" value="${project.version}"/>
        <filter token="project.name.text" value="${project.name.text}"/>
        <filter token="project.name.file" value="${project.name.file}"/>
        <filter token="year" value="${year}"/>
        <filter token="test.port" value="${test.port}"/>

    </target>


    <!--
       ========================================================================
         Base directory for all file related operations
       ========================================================================
    -->
    <property name="base.dir" value="."/>

    <!--
       ========================================================================
         Set the properties related to the source tree.
       ========================================================================
    -->
    <property name="src.dir" value="${base.dir}/src"/>
    <property name="build.dir" value="${base.dir}/build"/>
    <property name="conf.dir" value="${base.dir}/conf"/>
    <property name="conf.test.dir" value="${conf.dir}/test"/>
    <property name="web.dir" value="${base.dir}/web"/>

    <!--
       ========================================================================
         Set the properties related to the target area
       ========================================================================
    -->
    <!-- Destination locations for the build -->
    <property name="target.dir" value="${base.dir}/target"/>
    <property name="target.classes.dir" value="${target.dir}/classes"/>
    <property name="target.conf.dir" value="${target.dir}/conf"/>
    <property name="target.conf.client.dir" value="${target.conf.dir}/client"/>
    <property name="target.conf.server.dir" value="${target.conf.dir}/server"/>
    <property name="target.doc.dir" value="${target.dir}/doc"/>
    <property name="target.doc.api.dir" value="${target.doc.dir}/api"/>
    <property name="target.test.dir" value="${target.dir}/test"/>
    <property name="target.lib.dir" value="${target.dir}/lib"/>

    <!--
       ========================================================================
         Default values that can be overidden
       ========================================================================
    -->
    <!-- The port that will be used to start the servers -->
    <property name="test.port" value="8080"/>

    <!--
       ========================================================================
         Clean generated files (including distributables)
       ========================================================================
    -->
    <target name="clean" depends="init" description="Clean target directory">
	    <delete includeEmptyDirs="true">
		    <fileset dir="${target.dir}">
		    </fileset>
	    </delete>
	    <mkdir dir="${target.dir}"/>
    </target>

	<target name="checkwindows">
		<condition property="isWindows">
		    <os family="windows"/>
		</condition>
	</target>