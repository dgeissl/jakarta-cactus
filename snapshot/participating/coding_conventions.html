<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">











<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Jakarta Cactus - Coding Conventions</title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
          </head>
  <body class="composite">
    <div id="banner">
                  <a href="http://jakarta.apache.org/cactus/" id="bannerLeft">
    
                                            <img src="../images/logocactus.gif" alt="" />
    
            </a>
                        <a href="http://jakarta.apache.org/" id="bannerRight">
    
                                            <img src="../images/jakarta-logo.gif" alt="" />
    
            </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
          
  

  
    
  
  
    
            <div class="xleft">
        Last Published: 2016-11-27
                          |   
                <a href="http://www.apache.org/" class="externalLink">Apache</a>
                &gt;
      
                <a href="http://www.jakarta.apache.org/" class="externalLink">Jakarta</a>
                &gt;
      
                <a href="http://jakarta.apache.org/cactus/" class="externalLink">Cactus</a>
                          </div>
            <div class="xright">      
  

  
    
  
  
    
  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
           
  

  
    
  
  
    
                   <h5>About</h5>
            <ul>
              
    <li class="none">
                    <a href="../index.html">Overview</a>
          </li>
              
    <li class="none">
                    <a href="../goals.html">Goals</a>
          </li>
              
    <li class="none">
                    <a href="../features.html">Features</a>
          </li>
              
    <li class="none">
                    <a href="../news.html">News</a>
          </li>
              
    <li class="none">
                    <a href="../downloads.html">Downloads</a>
          </li>
              
    <li class="none">
                    <a href="http://issues.apache.org/jira/secure/BrowseProject.jspa?id=10471" class="externalLink">Bug Database</a>
          </li>
              
    <li class="none">
                    <a href="../mail-lists.html">Mailing Lists</a>
          </li>
              
    <li class="none">
                    <a href="../faq.html">FAQ</a>
          </li>
              
    <li class="none">
                    <a href="http://wiki.apache.org/jakarta-cactus/FrontPage" class="externalLink">Wiki</a>
          </li>
              
    <li class="none">
                    <a href="../license.html">License</a>
          </li>
          </ul>
              <h5>Documentation</h5>
            <ul>
              
    <li class="none">
                    <a href="../getting_started.html">Getting started</a>
          </li>
              
    <li class="none">
                    <a href="../how_it_works.html">How it works</a>
          </li>
              
                
              
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
              
        <li class="collapsed">
                    <a href="../writing/howto_ejb.html">Writing tests</a>
                </li>
              
                
              
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
                  
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
                  
      
            
      
            
      
                  
      
            
      
            
      
              
        <li class="collapsed">
                    <a href="../integration/index.html">Running tests</a>
                </li>
              
                
              
      
            
      
            
      
            
            
            
      
            
      
            
      
            
      
            
      
              
            <li class="expanded">
                    <a href="../participating/index.html">Participating</a>
                  <ul>
                  
    <li class="none">
                    <a href="../participating/contributors.html">About Us</a>
          </li>
                  
    <li class="none">
                    <a href="../participating/todo.html">Roadmap</a>
          </li>
                  
    <li class="none">
                    <a href="http://issues.apache.org/jira/browse/CACTUS?report=com.atlassian.jira.plugin.system.project:openissues-panel" class="externalLink">TODO/Open Issues</a>
          </li>
                  
    <li class="none">
              <strong>Coding Conventions</strong>
        </li>
                  
    <li class="none">
                    <a href="../participating/apis.html">Public API/SPIs</a>
          </li>
                  
    <li class="none">
                    <a href="http://jakarta.apache.org/site/cvsindex.html" class="externalLink">SVN</a>
          </li>
                  
    <li class="none">
                    <a href="../participating/howto_build.html">Build From Source</a>
          </li>
                  
    <li class="none">
                    <a href="../participating/release_checklist.html">Release Checklist</a>
          </li>
                  
    <li class="none">
                    <a href="../participating/logos.html">Logos</a>
          </li>
              </ul>
        </li>
          </ul>
              <h5>Miscellaneous</h5>
            <ul>
              
    <li class="none">
                    <a href="../cactusname.html">Why the name</a>
          </li>
              
    <li class="none">
                    <a href="../mock_vs_cactus.html">Mock vs Container</a>
          </li>
              
    <li class="none">
                    <a href="http://wiki.apache.org/jakarta-cactus/TestedOn" class="externalLink">Tested On...</a>
          </li>
              
                
              
      
            
      
            
      
            
      
            
      
              
        <li class="collapsed">
                    <a href="../resources/index.html">Resources</a>
                </li>
          </ul>
              <h5>Translations</h5>
            <ul>
              
    <li class="none">
                    <a href="http://www.ressources-java.net/cactus" class="externalLink">French</a>
          </li>
              
    <li class="none">
                    <a href="http://jakarta.apache-korea.org/cactus/index.html" class="externalLink">Korean</a>
          </li>
              
    <li class="none">
                    <a href="http://www.jajakarta.org/cactus/" class="externalLink">Japanese</a>
          </li>
          </ul>
              <h5>See also</h5>
            <ul>
              
    <li class="none">
                    <a href="http://www.apachebookstore.com/" class="externalLink">Apache Bookstore</a>
          </li>
              
    <li class="none">
                    <a href="http://www.planetapache.org/" class="externalLink">Planet Apache</a>
          </li>
              
    <li class="none">
                    <a href="http://apache.org/foundation/thanks.html" class="externalLink">Apache Sponsors</a>
          </li>
          </ul>
                                                 
                        
                        
            <a href="http://jakarta.apache.org/cactus/" title="Jakarta Cactus" class="poweredBy">
                            <img alt="Jakarta Cactus" src="../images/cactusbanner.gif" />
            </a>
                               
  

  
    
  
  
    
        </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2><a name="Forewords"></a>Forewords</h2>
<p>
                This document describes a list of coding conventions that are
                required for code submissions to the project. By default, the coding
                conventions for most Open Source Projects should follow the existing
                coding conventions in the code that you are working on. For example,
                if the bracket is on the same line as the if statement, then you
                should write all your code to have that convention.
            </p>
<note><strong>If you commit code that does not follow these conventions and
                    you are caught, you are responsible for also fixing your own code.
                </strong></note><p>
                Below is a list of coding conventions that are specific to Cactus,
                everything else not specificially mentioned here should follow the
                official <a href="http://java.sun.com/docs/codeconv/html/CodeConvTOC.doc.html" class="externalLink">Sun Java Coding
                Conventions</a>.
            </p>
</div>
<div class="section"><h2><a name="How_to_apply"></a>How to apply?</h2>
<p>
                Having coding conventions is nice but having a way to ensure they are
                applied is even better ... :-)
            </p>
<p>
                The Cactus Ant build file has a <code>checkstyle</code> target which
                performs coding conventions using the
                <a href="http://checkstyle.sf.net/" class="externalLink">Checkstyle</a>
                tool. Drop the
                Checkstyle jars in your <code>ANT_HOME/lib</code>, go in the
                <code>build/</code>
                directory and type <code>ant checkstyle</code>.
            </p>
<p>
                Please run this target before committing any code.
            </p>
</div>
<div class="section"><h2><a name="Cactus_specific_coding_conventions"></a>Cactus specific coding conventions</h2>
<div class="section"><h2><a name="a1._Brackets"></a>1. Brackets</h2>
<p>
                    All brackets should begin and end on a <strong>new</strong> line. Example:
                </p>
<div class="source"><pre>
public class SomeClass
{
    public void someMethod()
    {
        if (...)
        {
        }
    }
}
</pre>
</div>
<p><strong>Brackets are mandatory even for single line statements !
                    </strong></p>
<div class="source"><pre>
// Incorrect
if (expression)
    // some code

// Correct
if (expression)
{
    // some code
}
</pre>
</div>
</div>
<div class="section"><h2><a name="a2._Blank_Spaces"></a>2. Blank Spaces</h2>
<p>
                    keywords followed by a parenthesis should be separated by a space.
                    Example:
                </p>
<div class="source"><pre>
while (true)
{
    // some code
}
</pre>
</div>
<p>
                    Blank space should appear after commas in argument lists. Binary
                    operators should be separated from their operands by spaces:
                </p>
<div class="source"><pre>
a += c + d;
a = (a + b) / (c * d);

while (d++ = s++)
{
    n++;
}

printSize(&quot;size is &quot; + foo + &quot;\n&quot;);
</pre>
</div>
</div>
<div class="section"><h2><a name="a3._Indentations"></a>3. Indentations</h2>
<p><strong>4 spaces. NO tabs</strong>. Period. We understand that a lot
                    of you like to
                    use tabs, but the fact of the matter is that in a distributed
                    development environment, when the cvs commit messages get sent to a
                    mailing list, they are almost impossible to read if you use tabs.
                </p>
</div>
<div class="section"><h2><a name="a4._Comments"></a>4. Comments</h2>
<p>
                    Javadoc SHOULD exist on all your class members (methods + class
                    variables), including the private ones. Also, if you are working on
                    existing code and there currently isn't a javadoc for that
                    method/class/variable or whatever, then you should contribute and
                    add it. This will improve the project as a whole.
                </p>
<p>
                    Also add code comments when you think it's necessary (like
                    assumptions), especially when the code is not obvious.
                </p>
</div>
<div class="section"><h2><a name="a5._License"></a>5. License</h2>
<p>
                    The Jakarta Apache/Cactus License MUST be placed at the top of each
                    and every file.
                </p>
</div>
<div class="section"><h2><a name="a6._Author_references"></a>6. Author references</h2>
<p>
                    Do not put <code>@author</code> tags in source code. We are following
                    the Apache board recommendation. This view is
                    <a href="#ext:apache_no_author_tags">summarized</a>
                    nicely
                    by Dirk-Willem Van Gullick, president of the ASF.
                </p>
<p>
                    However you are very much encouraged to edit the
                    <code>contributors.xml</code>
                    file located in
                    <code>jakarta-cactus/documentation/docs/xdocs/participating/</code>
                    which lists contributors' participation.
                </p>
</div>
<div class="section"><h2><a name="a7._Class_variables"></a>7. Class variables</h2>
<p>
                    Class variables should not have any prefix and
                    <strong>must</strong>
                    be referenced using the <code>this</code> object. Example:
                </p>
<div class="source"><pre>
public class SomeClass
{
    private String someString;
[...]
    public void someMethod()
    {
        logger.debug(&quot;Value = &quot; + this.someString);
    }
}
</pre>
</div>
</div>
<div class="section"><h2><a name="a8._Parameter_names"></a>8. Parameter names</h2>
<p>
                    Method parameters should be prefixed by &quot;<code>the</code>&quot; (for
                    differentiating them from inner variables). For example:
                </p>
<div class="source"><pre>
public void someMethod(String theClassName)
{
    String className; // inner variable
}
</pre>
</div>
</div>
<div class="section"><h2><a name="a9._Line_length"></a>9. Line length</h2>
<p>
                    Avoid lines longer than 80 characters for Code, comments, ...
                </p>
</div>
<div class="section"><h2><a name="a10._Versioning"></a>10. Versioning</h2>
<p>
                    All .java files should have a <code>@version</code> tag like the one
                    below.
                </p>
<div class="source"><pre>
@version $Id: coding_conventions.xml 238846 2004-03-13 14:40:48Z vmassol $
</pre>
</div>
</div>
<div class="section"><h2><a name="a11._Logging"></a>11. Logging</h2>
<p>
                    Do <strong>not</strong> use <code>System.out</code> to log. Instead,
                    use the <code>commons-logging</code> Logging system. For example:
                </p>
<div class="source"><pre>
private static final Log LOGGER = 
    LogFactory.getLog(MyClass.class);

public void someMethod()
{
		LOGGER.debug(&quot;some debug text&quot;);
}
</pre>
</div>
<note>
                    As of Cactus 1.3, LogAspect autmatically logs all method entries and
                    exits.
                </note></div>
<div class="section"><h2><a name="a12._Exception_handling"></a>12. Exception handling</h2>
<p>
                    Managing exceptions correctly requires experience. This is not
                    supposed to be a guide on managing exceptions, simply a few best
                    practices.
                </p>
<ul><li><strong>Rule 1</strong>: Try to catch exceptions as much as
                        possible and rethrow higher level exceptions (meaning hiding the
                        low level detailed and putting a message that is more related to
                        the function of your code).
                    </li>
<li><strong>Rule 2</strong>: It is important not to loose the stack
                        trace which contains important information. Use chained exceptions
                        for that. Cactus provides a
                        <code>ChainedRuntimeException</code>
                        for chaining runtime exceptions.
                    </li>
<li><strong>Rule 3</strong>: Always log the exception at the higher
                        level (ie. where it is handled and not rethrown).
                    </li>
<li><strong>Rule 4</strong>: Try to avoid catching
                        <code>Throwable</code>
                        or <code>Exception</code> and catch
                        specific exceptions instead.
                    </li>
</ul>
<p>
                    An example:
                </p>
<div class="source"><pre>
public void getTestClass()
{
    try
    {
        Class responseClass =
            Class.forName(&quot;some.package.MyClass&quot;);
    } 
    catch (ClassNotFoundException cnfe)
    {
        String message = &quot;Cannot instantiate test class&quot;;
        logger.error(message);
        throw new ChainedRuntimeException(message, e);
    }
}
</pre>
</div>
</div>
<div class="section"><h2><a name="a13._Qualified_imports"></a>13. Qualified imports</h2>
<p>
                    All <code>import</code> statements should containing the full class
                    name of classes to import and should not use the
                    <code>&quot;*&quot;</code>
                    notation:
                </p>
<p>
                    An example:
                </p>
<div class="source"><pre>
// Correct
import java.util.Date;
import java.net.HttpURLConnection;

// Not correct
import java.util.*;
import java.net.*;
</pre>
</div>
</div>
</div>

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;  
          2001-2016
    
          The Apache Software Foundation
          
  

  
    
  
  
    
  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
