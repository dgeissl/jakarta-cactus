<?xml version="1.0"?>

<!DOCTYPE document SYSTEM "./dtd/document-v10.dtd">

<document>
  <header>
    <title>Migration Howto</title>
    <authors>
      <person name="Vincent Massol" email="vmassol@apache.org"/>
    </authors>
  </header>

  <body>

    <s1 title="From Cactus 1.2 to 1.3">

      <p>
        Here are the steps to migrate from Cactus 1.2 to 1.3
      </p>

      <note>
        This migration guide does not explain any of the new feature of
        Cactus 1.3 but concentrates on making you move from Cactus 1.2 to 1.3.
      </note>

      <p>
        Let's call <code>CACTUS_HOME</code> the directory where you unzipped
        the Cactus distribution.
      </p>

      <p>
        Follow these steps :
      </p>
      <ul>
        <li>
          <strong>Step 1</strong> : Put <code>aspectjrt.jar</code> (found in
          <code>CACTUS_HOME/lib</code>) in both your client side and server
          side classpaths.
        </li>
        <li>
          <strong>Step 2</strong> : Modify your <code>cactus.properties</code>
          to the new format. For example:
        </li>
<source><![CDATA[
cactus.contextURL = http://localhost:8000/cactus
cactus.servletRedirectorName = ServletRedirector
]]></source>
        <li>
          <strong>Step 3</strong> : Ensure that
          <code>cactus.servletRedirectorName</code> does
          not end with a "/" and that the mapping in <code>web.xml</code>
          matches it :
        </li>
<source><![CDATA[
    <servlet-mapping>
        <servlet-name>ServletRedirector</servlet-name>
        <url-pattern>/ServletRedirector</url-pattern>
    </servlet-mapping>
]]></source>
      </ul>

    </s1>

  </body>
</document>
