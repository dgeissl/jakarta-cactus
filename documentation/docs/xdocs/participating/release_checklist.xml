<?xml version="1.0"?>

<document id="release_checklist">

  <properties>
    <title>Release Checklist</title>
    <authors>
      <author name="Vincent Massol" email="vmassol@apache.org"/>
    </authors>
  </properties>

  <body>

    <section title="Release Checklist">

      <p>
        Checklist of tasks to perform for each release:
      </p>
      <ol>
        <li>
          Ensure that the Cactus tests have been run on several application
          servers and update the <link href="site:testedon">Tested On</link>
          page accordingly.
        </li>
        <li>
          Ensure that the Todo page has no more items for the current version.
        </li>
        <li>
          Ensure that the Cactus web site is up to date with the new release.
        </li>
        <li>
          Ensure you have added a news item for the new Cactus release on
          the <link href="site:news">News</link> page.
        </li>
        <li>
          Edit <code>build-common.xml</code> and
          modify the <code>project.*.version</code> Ant properties so that
          they reflect the version number for the release (no 
          <code>dev</code> suffix should remain). Commit the changes.
        </li>
        <li>
          CVS Checkout a clean copy of Cactus so that no local files are
          included in the distribution and to verify it really works.
        </li>
        <li>
          Build the Cactus release for all Servlet APIs (<code>ant
          release</code> at the top level). <em>Note: Make sure you are 
          connected to the internet when building the releases as the 
          documentation subproject needs the CVS logs for the changes 
          page.</em>
        </li>
        <li>
          Build the source release (<code>ant release.src</code>).
        </li>
        <li>
          Install each delivered release on your local computer and try running
          the Sample application tests for one application server.
        </li>
        <li>
          (optional) Create a zipped packaged version of Ant containing all the
          jars needed to build Cactus in its <code>lib/</code> directory. Name
          it <code>jakarta-cactus-ant-&lt;version of
          Ant&gt;-&lt;date&gt;.zip</code>.
        </li>
        <li>
          Upload the Cactus releases (for all Servlet APIs and the source one)
          and the zipped Ant distribution to <code>jakarta.apache.org</code>,
          putting them in a
          <code>/www/jakarta.apache.org/builds/jakarta-cactus/release/&lt;version&gt;</code>
          directory.
        </li>
        <li>
          Upload the Cactus website by running <code>ant upload</code> in the 
          Cactus <code>documentation/</code> project (after you have run
          <code>cactus release</code> from the top level).
        </li>
        <li>
          Tag the CVS HEAD with a new release tag named
          <code>CACTUS_&lt;version&gt;_RELEASE</code> (ex:
          <code>CACTUS_14_RELEASE</code>).
        </li>
        <li>
          Announce the release on the following locations (see below for the
          announcement template):
          <ul>
            <li>
              Jakarta WebSite: Modify the Jakarta Website to contain the
              announcement.
            </li>
            <li>
              Cactus user mailing list: Send the announcement there with a
              subject of <code>[ANN] Cactus &lt;version&gt; has been
              released</code>.
            </li>
            <li>
             Jakarta Announcement mailing list
             (<code>announcements@jakarta.apache.org</code>): Send the
             announcement there with a subject of <code>[ANN] Cactus
             &lt;version&gt; has been released</code>.
            </li>
          </ul>
        </li>
        <li>
          Prepare the next version by editing again the
          <code>build-common.xml</code> file and modifying the
          <code>project.*.version</code> properties with the new development 
          version (for example after releasing 1.5, the new development 
          version is 1.6dev).
        </li>
      </ol>

    </section>

    <section title="Announcement template">

<source><![CDATA[
The Cactus project is pleased to announce the release of version <version>.
Cactus is a unit testing framework for testing server side java code.

<Some comment specific to this release>

Please check the Changes page (http://jakarta.apache.org/cactus/changes.html)
for a full list of the changes in version <version>. Existing users of
Cactus <version-1> can also check the Migration page
(http://jakarta.apache.org/cactus/howto_migration.html) which explains how to
migrate from the previous vesion to this new version.

For more information about Cactus, please visit: http://jakarta.apache.org/cactus/.
]]></source>

    </section>

  </body>
</document>
