<?xml version="1.0"?>

<!DOCTYPE document SYSTEM "./dtd/document-v10.dtd">

<document>
  <header>
    <title>Sample Howto</title>
    <authors>
      <person name="Vincent Massol" email="vmassol@users.sourceforge.net"/>
    </authors>
  </header>

  <body>

    <s1 title="Introduction">

      <p>
        This tutorial explains where to get Cactus samples and how to use
        them.
      </p>
      <p>
        There are some samples available as part of the documentation. The
        samples depend on the kind of test case you are writing (Servlet,
        Taglibs, Filters, ...). For this reason you'll find some samples
        in the <link href="howto_testcase.html">TestCase Howto</link>
        tutorial.
      </p>
      <p>
        However, the majority of Cactus samples are in the form of source
        samples. These samples are part of the Cactus distribution that
        you have downloaded (in the <code>sample/src</code> directory).
      </p>
      <p>
        The following section explains how to execute the Cactus Samples
        using Ant (the Samples are packaged to be executed with Ant).
        If you wish to integrate them in your own build system or in your
        favorite IDE, you'll have to understand the principles first and
        manually install them (read the
        <link href="getting_started.html">Getting Started</link>
        and the <link href="howto_config.html">Configuration Howto</link>
        tutorials). Some detailed explanations for IDE integration
        are also available in the <link href="howto_ide.html">IDE Howto</link>
        tutorial.
      </p>

    </s1>

    <s1 title="Running the Cactus Samples using Ant">

      <s2 title="Prerequisites">

        <p>
          You need to install the following items prior to building the Cactus
          Sample application :
        </p>
        <ul>
          <li>
            A JVM (1.2 or above),
          </li>
          <li>
            A Servlet Engine (Servlet API 2.2 or above). The Cactus Sample
            Ant build script supports automatic running the Cactus unit
            tests on the following Servle Engines (however, it is easy to
            support others)
            <ul>
              <li>
                Tomcat 3.2
              </li>
              <li>
                Tomcat 3.3
              </li>
              <li>
                Tomcat 4.0
              </li>
              <li>
                WebLogic 5.1
              </li>
              <li>
                Orion Server 1.4
              </li>
              <li>
                Orion Server 1.5
              </li>
              <li>
                Resin 1.2
              </li>
              <li>
                Resin 1.3
              </li>
              <li>
                Resin 2.0
              </li>
            </ul>
          </li>
          <li>
            Ant (see the <link href="howto_ant_install.html">"Installing
            Ant"</link> tutorial).
          </li>
          <li>
            A Servlet API jar corresponding to the Cactus Sample release you
            have downloaded (Servlet API 2.2 or 2.3). You can download the
            jar from :
            <ul>
              <li>
                For Servlet API 2.2
                <ul>
                  <li>
                    From
                    <link href="http://java.sun.com/products/servlet/download.html">
                    Sun</link> or from the
                    <link href="http://jakarta.apache.org/builds/jakarta-servletapi/">
                    Jakarta reference implementation</link>
                  </li>
                </ul>
              </li>
              <li>
                For Servlet API 2.3
                <ul>
                  <li>
                    From
                    <link href="http://java.sun.com/products/servlet/download.html">
                    Sun</link> or from the
                    <link href="http://jakarta.apache.org/builds/jakarta-servletapi-4/">
                    Jakarta reference implementation</link>
                  </li>
                </ul>
              </li>
            </ul>
            You can put these libraries whereever you want on your hard disk.
            You'll just have to specify the location where they are in the
            <code>build.properties</code> file, as described below.
          </li>
        </ul>

      </s2>

      <s2 title="Installing the Cactus Sample">

        <p>
          Follow these steps :
        </p>
        <ul>
          <li>
            Download the <link href="downloads.html">Cactus Sample</link> and
            unzip it in a directory. Let's call this directory
            <em><code>sampleroot</code></em>.
          </li>
          <li>
            Rename (or copy) the
            <em><code>sampleroot</code></em>
            <code>/build/build.properties.sample</code> file
            to <code>build.properties</code>. This file defines the dependencies
            between the Cactus Sample build process and your environment
            (location of external jars, home directory for installed servlet
            engine(s), ...). Edit this file to reflect your environment values.
          </li>
        </ul>

      </s2>

      <s2 title="Running the samples">

        <p>
          Open a shell, cd to the <em><code>sampleroot</code></em>
          <code>/build</code> directory and type '<code>ant tests_all</code>'.
          The tests will be executed on all the servlet engines you have
          defined in the <code>build.properties</code> file you have edited.
        </p>

      </s2>

    </s1>

  </body>
</document>
